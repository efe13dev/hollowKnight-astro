---
// No props de momento
---

<section
  id="personajes"
  class="characters py-24 px-4 relative overflow-hidden"
  style="background: linear-gradient(180deg, #111125 0%, #0a0a18 40%, #080814 100%);"
>
  <!-- Atmospheric background elements -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <div
      class="floating-orb w-96 h-96 -top-48 -right-48"
      style="opacity: 0.04;"
    >
    </div>
    <div
      class="floating-orb w-64 h-64 bottom-20 -left-32"
      style="animation-delay: -7s; opacity: 0.05;"
    >
    </div>
  </div>

  <!-- Section Header -->
  <div class="text-center mb-16 fade-in">
    <span
      class="inline-block text-[var(--tertiary-color)] font-mono text-xs tracking-[0.3em] uppercase mb-3 opacity-60"
      >// Habitantes de Hallownest</span
    >
    <h2
      class="text-3xl md:text-4xl lg:text-5xl font-cinzel font-bold text-white relative inline-block"
      style="text-shadow: 0 0 30px rgba(155,109,255,0.3);"
    >
      Conoce a los Personajes
      <span
        class="block absolute left-0 w-full h-px bg-gradient-to-r from-transparent via-[var(--accent-color)] to-transparent bottom-[-12px]"
      ></span>
    </h2>
  </div>

  <!-- Character Filter -->
  <div class="flex flex-wrap justify-center gap-3 mb-14 fade-in">
    <button
      class="filter-btn px-5 py-2 text-sm font-cinzel tracking-wider uppercase transition-all duration-300 rounded-sm"
      style="background: var(--accent-color); color: white; box-shadow: 0 2px 15px rgba(155,109,255,0.3);"
      data-filter="all">Todos</button
    >
    <button
      class="filter-btn px-5 py-2 text-sm font-cinzel tracking-wider uppercase transition-all duration-300 rounded-sm border border-white/15 text-white/70 hover:text-white hover:border-[var(--accent-color)]"
      style="background: transparent;"
      data-filter="heroes">Héroes</button
    >
    <button
      class="filter-btn px-5 py-2 text-sm font-cinzel tracking-wider uppercase transition-all duration-300 rounded-sm border border-white/15 text-white/70 hover:text-white hover:border-[var(--accent-color)]"
      style="background: transparent;"
      data-filter="allies">Aliados</button
    >
    <button
      class="filter-btn px-5 py-2 text-sm font-cinzel tracking-wider uppercase transition-all duration-300 rounded-sm border border-white/15 text-white/70 hover:text-white hover:border-[var(--accent-color)]"
      style="background: transparent;"
      data-filter="enemies">Enemigos</button
    >
  </div>

  <div
    class="character-grid max-w-7xl mx-auto grid gap-6 md:grid-cols-2 lg:grid-cols-3"
  >
    <!-- El Caballero -->
    <div
      class="character-card group rounded-lg overflow-hidden transition-all duration-500 hover:-translate-y-2 fade-in"
      style="background: linear-gradient(145deg, var(--card-bg), #0d0d20); border: 1px solid var(--card-border);"
      data-character="hero"
      onclick="selectCharacter(this, 'El Caballero')"
    >
      <div class="character-image h-64 overflow-hidden relative">
        <img
          src="/img/67ed144aba13e.webp"
          alt="El Caballero"
          class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
        />
        <div
          class="absolute inset-0 bg-gradient-to-t from-[var(--card-bg)] via-transparent to-transparent"
        >
        </div>
        <div
          class="selected-badge absolute top-3 right-3 bg-[var(--accent-color)] text-white text-xs px-3 py-1 rounded-sm opacity-0 transition-opacity font-mono tracking-wider"
        >
          Seleccionado
        </div>
      </div>
      <div class="p-6">
        <h3
          class="text-lg font-cinzel font-bold mb-2 text-white group-hover:text-[var(--accent-color)] transition-colors"
        >
          El Caballero
        </h3>
        <p class="text-white/60 text-sm font-body leading-relaxed">
          Un misterioso viajero que desciende a Hallownest en busca de
          respuestas. Armado con su aguja de uña, debe enfrentarse a los
          peligros del reino.
        </p>
        <div class="mt-4 flex gap-2">
          <span
            class="text-[10px] font-mono tracking-wider uppercase px-2 py-1 rounded-sm"
            style="background: rgba(155,109,255,0.15); color: var(--accent-color);"
            >Protagonista</span
          >
          <span
            class="text-[10px] font-mono tracking-wider uppercase px-2 py-1 rounded-sm"
            style="background: rgba(0,200,255,0.1); color: var(--tertiary-color);"
            >Explorador</span
          >
        </div>
      </div>
    </div>

    <!-- Hornet -->
    <div
      class="character-card group rounded-lg overflow-hidden transition-all duration-500 hover:-translate-y-2 fade-in"
      style="background: linear-gradient(145deg, var(--card-bg), #0d0d20); border: 1px solid var(--card-border);"
      data-character="ally"
      onclick="selectCharacter(this, 'Hornet')"
    >
      <div class="character-image h-64 overflow-hidden relative">
        <img
          src="/img/hornet.webp"
          alt="Hornet"
          class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
        />
        <div
          class="absolute inset-0 bg-gradient-to-t from-[var(--card-bg)] via-transparent to-transparent"
        >
        </div>
        <div
          class="selected-badge absolute top-3 right-3 bg-[var(--accent-color)] text-white text-xs px-3 py-1 rounded-sm opacity-0 transition-opacity font-mono tracking-wider"
        >
          Seleccionado
        </div>
      </div>
      <div class="p-6">
        <h3
          class="text-lg font-cinzel font-bold mb-2 text-white group-hover:text-[var(--accent-color)] transition-colors"
        >
          Hornet
        </h3>
        <p class="text-white/60 text-sm font-body leading-relaxed">
          Princesa protectora de Hallownest e hija del Rey Pálido. Ágil y letal
          con su aguja de seda, vigila las fronteras del reino caído.
        </p>
        <div class="mt-4 flex gap-2">
          <span
            class="text-[10px] font-mono tracking-wider uppercase px-2 py-1 rounded-sm"
            style="background: rgba(155,109,255,0.15); color: var(--accent-color);"
            >Aliada</span
          >
          <span
            class="text-[10px] font-mono tracking-wider uppercase px-2 py-1 rounded-sm"
            style="background: rgba(0,200,255,0.1); color: var(--tertiary-color);"
            >Guerrera</span
          >
        </div>
      </div>
    </div>

    <!-- Cloth -->
    <div
      class="character-card group rounded-lg overflow-hidden transition-all duration-500 hover:-translate-y-2 fade-in"
      style="background: linear-gradient(145deg, var(--card-bg), #0d0d20); border: 1px solid var(--card-border);"
      data-character="ally"
      onclick="selectCharacter(this, 'Cloth')"
    >
      <div class="character-image h-64 overflow-hidden relative">
        <img
          src="/img/cloth.webp"
          alt="Cloth"
          class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
        />
        <div
          class="absolute inset-0 bg-gradient-to-t from-[var(--card-bg)] via-transparent to-transparent"
        >
        </div>
        <div
          class="selected-badge absolute top-3 right-3 bg-[var(--accent-color)] text-white text-xs px-3 py-1 rounded-sm opacity-0 transition-opacity font-mono tracking-wider"
        >
          Seleccionado
        </div>
      </div>
      <div class="p-6">
        <h3
          class="text-lg font-cinzel font-bold mb-2 text-white group-hover:text-[var(--accent-color)] transition-colors"
        >
          Cloth
        </h3>
        <p class="text-white/60 text-sm font-body leading-relaxed">
          Una guerrera valiente y leal que busca una muerte gloriosa en combate.
          Su coraje la lleva a enfrentarse a los enemigos más temibles.
        </p>
        <div class="mt-4 flex gap-2">
          <span
            class="text-[10px] font-mono tracking-wider uppercase px-2 py-1 rounded-sm"
            style="background: rgba(155,109,255,0.15); color: var(--accent-color);"
            >Aliada</span
          >
          <span
            class="text-[10px] font-mono tracking-wider uppercase px-2 py-1 rounded-sm"
            style="background: rgba(0,200,255,0.1); color: var(--tertiary-color);"
            >Guerrera</span
          >
        </div>
      </div>
    </div>

    <!-- Shadow -->
    <div
      class="character-card group rounded-lg overflow-hidden transition-all duration-500 hover:-translate-y-2 fade-in"
      style="background: linear-gradient(145deg, var(--card-bg), #0d0d20); border: 1px solid var(--card-border);"
      data-character="hero"
      onclick="selectCharacter(this, 'Shade')"
    >
      <div class="character-image h-64 overflow-hidden relative">
        <img
          src="/img/shadow.png"
          alt="Shade"
          class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
        />
        <div
          class="absolute inset-0 bg-gradient-to-t from-[var(--card-bg)] via-transparent to-transparent"
        >
        </div>
        <div
          class="selected-badge absolute top-3 right-3 bg-[var(--accent-color)] text-white text-xs px-3 py-1 rounded-sm opacity-0 transition-opacity font-mono tracking-wider"
        >
          Seleccionado
        </div>
      </div>
      <div class="p-6">
        <h3
          class="text-lg font-cinzel font-bold mb-2 text-white group-hover:text-[var(--accent-color)] transition-colors"
        >
          Shade
        </h3>
        <p class="text-white/60 text-sm font-body leading-relaxed">
          La sombra del Caballero, nacida de la Void. Aparece donde el Caballero
          cae, guardando su esencia y geo hasta ser reclamada.
        </p>
        <div class="mt-4 flex gap-2">
          <span
            class="text-[10px] font-mono tracking-wider uppercase px-2 py-1 rounded-sm"
            style="background: rgba(155,109,255,0.15); color: var(--accent-color);"
            >Reflejo</span
          >
          <span
            class="text-[10px] font-mono tracking-wider uppercase px-2 py-1 rounded-sm"
            style="background: rgba(0,200,255,0.1); color: var(--tertiary-color);"
            >Void</span
          >
        </div>
      </div>
    </div>

    <!-- Zote -->
    <div
      class="character-card group rounded-lg overflow-hidden transition-all duration-500 hover:-translate-y-2 fade-in"
      style="background: linear-gradient(145deg, var(--card-bg), #0d0d20); border: 1px solid var(--card-border);"
      data-character="enemy"
      onclick="selectCharacter(this, 'Zote')"
    >
      <div class="character-image h-64 overflow-hidden relative">
        <img
          src="/img/7XWcd2Kg44o1IzyY1L7czyyS.webp"
          alt="Zote"
          class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
        />
        <div
          class="absolute inset-0 bg-gradient-to-t from-[var(--card-bg)] via-transparent to-transparent"
        >
        </div>
        <div
          class="selected-badge absolute top-3 right-3 bg-[var(--accent-color)] text-white text-xs px-3 py-1 rounded-sm opacity-0 transition-opacity font-mono tracking-wider"
        >
          Seleccionado
        </div>
      </div>
      <div class="p-6">
        <h3
          class="text-lg font-cinzel font-bold mb-2 text-white group-hover:text-[var(--accent-color)] transition-colors"
        >
          Zote el Poderoso
        </h3>
        <p class="text-white/60 text-sm font-body leading-relaxed">
          Un autoproclamado caballero cuya espada Life Ender no tiene filo.
          Arrogante e inútil, pero sorprendentemente persistente.
        </p>
        <div class="mt-4 flex gap-2">
          <span
            class="text-[10px] font-mono tracking-wider uppercase px-2 py-1 rounded-sm"
            style="background: rgba(255,100,100,0.15); color: #ff6b6b;"
            >Rival</span
          >
          <span
            class="text-[10px] font-mono tracking-wider uppercase px-2 py-1 rounded-sm"
            style="background: rgba(0,200,255,0.1); color: var(--tertiary-color);"
            >Caballero</span
          >
        </div>
      </div>
    </div>

    <!-- Quirrel -->
    <div
      class="character-card group rounded-lg overflow-hidden transition-all duration-500 hover:-translate-y-2 fade-in"
      style="background: linear-gradient(145deg, var(--card-bg), #0d0d20); border: 1px solid var(--card-border);"
      data-character="ally"
      onclick="selectCharacter(this, 'Quirrel')"
    >
      <div class="character-image h-64 overflow-hidden relative">
        <img
          src="/img/202310192349115_5.webp"
          alt="Quirrel"
          class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
        />
        <div
          class="absolute inset-0 bg-gradient-to-t from-[var(--card-bg)] via-transparent to-transparent"
        >
        </div>
        <div
          class="selected-badge absolute top-3 right-3 bg-[var(--accent-color)] text-white text-xs px-3 py-1 rounded-sm opacity-0 transition-opacity font-mono tracking-wider"
        >
          Seleccionado
        </div>
      </div>
      <div class="p-6">
        <h3
          class="text-lg font-cinzel font-bold mb-2 text-white group-hover:text-[var(--accent-color)] transition-colors"
        >
          Quirrel
        </h3>
        <p class="text-white/60 text-sm font-body leading-relaxed">
          Un viajero erudito que regresa a Hallownest atraído por recuerdos
          olvidados. Porta la máscara de Monomon, su antigua maestra.
        </p>
        <div class="mt-4 flex gap-2">
          <span
            class="text-[10px] font-mono tracking-wider uppercase px-2 py-1 rounded-sm"
            style="background: rgba(155,109,255,0.15); color: var(--accent-color);"
            >Explorador</span
          >
          <span
            class="text-[10px] font-mono tracking-wider uppercase px-2 py-1 rounded-sm"
            style="background: rgba(0,200,255,0.1); color: var(--tertiary-color);"
            >Sabio</span
          >
        </div>
      </div>
    </div>

    <!-- NEW: Grimm -->
    <div
      class="character-card group rounded-lg overflow-hidden transition-all duration-500 hover:-translate-y-2 fade-in"
      style="background: linear-gradient(145deg, var(--card-bg), #0d0d20); border: 1px solid var(--card-border);"
      data-character="enemy"
      onclick="selectCharacter(this, 'Grimm')"
    >
      <div class="character-image h-64 overflow-hidden relative">
        <img
          src="/img/hornet-attack.png"
          alt="Grimm"
          class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
        />
        <div
          class="absolute inset-0 bg-gradient-to-t from-[var(--card-bg)] via-transparent to-transparent"
        >
        </div>
        <div
          class="selected-badge absolute top-3 right-3 bg-[var(--accent-color)] text-white text-xs px-3 py-1 rounded-sm opacity-0 transition-opacity font-mono tracking-wider"
        >
          Seleccionado
        </div>
      </div>
      <div class="p-6">
        <h3
          class="text-lg font-cinzel font-bold mb-2 text-white group-hover:text-[var(--accent-color)] transition-colors"
        >
          Grimm
        </h3>
        <p class="text-white/60 text-sm font-body leading-relaxed">
          Maestro de la Troupe Grimm, un ser enigmático ligado a la Pesadilla
          Escarlata. Su danza mortal es tan elegante como devastadora.
        </p>
        <div class="mt-4 flex gap-2">
          <span
            class="text-[10px] font-mono tracking-wider uppercase px-2 py-1 rounded-sm"
            style="background: rgba(255,100,100,0.15); color: #ff6b6b;"
            >Jefe</span
          >
          <span
            class="text-[10px] font-mono tracking-wider uppercase px-2 py-1 rounded-sm"
            style="background: rgba(0,200,255,0.1); color: var(--tertiary-color);"
            >Pesadilla</span
          >
        </div>
      </div>
    </div>

    <!-- NEW: The Hollow Knight -->
    <div
      class="character-card group rounded-lg overflow-hidden transition-all duration-500 hover:-translate-y-2 fade-in"
      style="background: linear-gradient(145deg, var(--card-bg), #0d0d20); border: 1px solid var(--card-border);"
      data-character="enemy"
      onclick="selectCharacter(this, 'The Hollow Knight')"
    >
      <div class="character-image h-64 overflow-hidden relative">
        <img
          src="/img/hollow-knight-4272059.webp"
          alt="The Hollow Knight"
          class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
        />
        <div
          class="absolute inset-0 bg-gradient-to-t from-[var(--card-bg)] via-transparent to-transparent"
        >
        </div>
        <div
          class="selected-badge absolute top-3 right-3 bg-[var(--accent-color)] text-white text-xs px-3 py-1 rounded-sm opacity-0 transition-opacity font-mono tracking-wider"
        >
          Seleccionado
        </div>
      </div>
      <div class="p-6">
        <h3
          class="text-lg font-cinzel font-bold mb-2 text-white group-hover:text-[var(--accent-color)] transition-colors"
        >
          The Hollow Knight
        </h3>
        <p class="text-white/60 text-sm font-body leading-relaxed">
          El Recipiente Puro, creado por el Rey Pálido para contener la
          Radiancia. Encadenado en el Templo del Huevo Negro, su sello se
          debilita.
        </p>
        <div class="mt-4 flex gap-2">
          <span
            class="text-[10px] font-mono tracking-wider uppercase px-2 py-1 rounded-sm"
            style="background: rgba(255,100,100,0.15); color: #ff6b6b;"
            >Jefe Final</span
          >
          <span
            class="text-[10px] font-mono tracking-wider uppercase px-2 py-1 rounded-sm"
            style="background: rgba(0,200,255,0.1); color: var(--tertiary-color);"
            >Recipiente</span
          >
        </div>
      </div>
    </div>

    <!-- NEW: El Rey Pálido -->
    <div
      class="character-card group rounded-lg overflow-hidden transition-all duration-500 hover:-translate-y-2 fade-in"
      style="background: linear-gradient(145deg, var(--card-bg), #0d0d20); border: 1px solid var(--card-border);"
      data-character="hero"
      onclick="selectCharacter(this, 'El Rey Pálido')"
    >
      <div class="character-image h-64 overflow-hidden relative">
        <img
          src="/img/202310192349115_5.jpg.webp"
          alt="El Rey Pálido"
          class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
        />
        <div
          class="absolute inset-0 bg-gradient-to-t from-[var(--card-bg)] via-transparent to-transparent"
        >
        </div>
        <div
          class="selected-badge absolute top-3 right-3 bg-[var(--accent-color)] text-white text-xs px-3 py-1 rounded-sm opacity-0 transition-opacity font-mono tracking-wider"
        >
          Seleccionado
        </div>
      </div>
      <div class="p-6">
        <h3
          class="text-lg font-cinzel font-bold mb-2 text-white group-hover:text-[var(--accent-color)] transition-colors"
        >
          El Rey Pálido
        </h3>
        <p class="text-white/60 text-sm font-body leading-relaxed">
          Antiguo gobernante de Hallownest y wyrm superior. Sacrificó todo para
          sellar la Radiancia, creando los Recipientes a partir del Void.
        </p>
        <div class="mt-4 flex gap-2">
          <span
            class="text-[10px] font-mono tracking-wider uppercase px-2 py-1 rounded-sm"
            style="background: rgba(155,109,255,0.15); color: var(--accent-color);"
            >Gobernante</span
          >
          <span
            class="text-[10px] font-mono tracking-wider uppercase px-2 py-1 rounded-sm"
            style="background: rgba(0,200,255,0.1); color: var(--tertiary-color);"
            >Wyrm</span
          >
        </div>
      </div>
    </div>
  </div>

  <!-- Selected Character Display -->
  <div
    id="selected-character"
    class="fixed bottom-6 left-6 rounded-sm p-4 shadow-2xl opacity-0 pointer-events-none transition-all duration-300 z-50 backdrop-blur-md"
    style="background: rgba(19,19,42,0.9); border: 1px solid var(--card-border);"
  >
    <p class="text-white font-cinzel text-sm tracking-wider">
      Seleccionado: <span
        id="character-name"
        class="font-bold"
        style="color: var(--accent-color);"></span>
    </p>
  </div>
</section>

<script is:inline>
  let selectedCharacter = null;

  function selectCharacter(card, characterName) {
    // Remove previous selection
    document.querySelectorAll(".character-card").forEach((c) => {
      c.style.boxShadow = "none";
      const badge = c.querySelector(".selected-badge");
      if (badge) badge.style.opacity = "0";
    });

    // Add selection to current card
    card.style.boxShadow =
      "0 0 0 2px var(--accent-color), 0 0 20px rgba(155,109,255,0.3)";
    const badge = card.querySelector(".selected-badge");
    if (badge) badge.style.opacity = "1";

    // Update selected character display
    selectedCharacter = characterName;
    const display = document.getElementById("selected-character");
    const nameSpan = document.getElementById("character-name");

    nameSpan.textContent = characterName;
    display.style.opacity = "1";
    display.style.pointerEvents = "auto";

    // Add celebration particles
    if (typeof createParticle === "function") {
      for (let i = 0; i < 10; i++) {
        setTimeout(() => {
          const rect = card.getBoundingClientRect();
          createParticle(
            rect.left + rect.width / 2,
            rect.top + rect.height / 2,
          );
        }, i * 50);
      }
    }
  }

  // Filter functionality
  document.addEventListener("DOMContentLoaded", () => {
    const filterBtns = document.querySelectorAll(".filter-btn");
    const characterCards = document.querySelectorAll(".character-card");

    filterBtns.forEach((btn) => {
      btn.addEventListener("click", () => {
        const filter = btn.dataset.filter;

        // Update button styles
        filterBtns.forEach((b) => {
          b.style.background = "transparent";
          b.style.color = "rgba(255,255,255,0.7)";
          b.style.boxShadow = "none";
          b.style.borderColor = "rgba(255,255,255,0.15)";
        });
        btn.style.background = "var(--accent-color)";
        btn.style.color = "white";
        btn.style.boxShadow = "0 2px 15px rgba(155,109,255,0.3)";
        btn.style.borderColor = "var(--accent-color)";

        // Filter cards
        characterCards.forEach((card) => {
          const matches =
            filter === "all" ||
            card.dataset.character === filter ||
            (filter === "heroes" && card.dataset.character === "hero") ||
            (filter === "allies" && card.dataset.character === "ally") ||
            (filter === "enemies" && card.dataset.character === "enemy");

          if (matches) {
            card.style.display = "block";
            setTimeout(() => {
              card.style.opacity = "1";
              card.style.transform = "translateY(0)";
            }, 50);
          } else {
            card.style.opacity = "0";
            card.style.transform = "translateY(10px)";
            setTimeout(() => (card.style.display = "none"), 350);
          }
        });
      });
    });
  });
</script>
