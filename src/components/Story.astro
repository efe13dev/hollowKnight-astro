---
import ShadowModal from "./ShadowModal.astro";
---

<section
  id="historia"
  class="story py-16 px-4 bg-gradient-to-b from-black/80 via-[#18192b] to-[#18192b] relative overflow-hidden"
>
  <!-- Section Title -->
  <div class="text-center mb-16 fade-in">
    <span
      class="inline-block text-[var(--tertiary-color)] font-mono text-xs tracking-[0.3em] uppercase mb-3 opacity-60"
      >// Cronología</span
    >
    <h2
      class="text-3xl md:text-4xl lg:text-5xl font-cinzel font-bold uppercase tracking-widest text-white relative inline-block"
      style="text-shadow: 0 0 30px rgba(155,109,255,0.3);"
    >
      La Leyenda de Hallownest
      <span
        class="block absolute left-0 w-full h-px bg-gradient-to-r from-transparent via-[var(--accent-color)] to-transparent bottom-[-12px]"
      ></span>
    </h2>
  </div>

  <!-- Interactive Timeline -->
  <div class="timeline-container max-w-3xl mx-auto mb-20 fade-in px-8">
    <div class="timeline flex justify-between items-center relative py-4">
      <div
        class="absolute h-px top-1/2 -translate-y-1/2 left-0 right-0"
        style="background: linear-gradient(90deg, var(--secondary-color), var(--accent-color), var(--tertiary-color));"
      >
      </div>

      <div
        class="timeline-point relative z-10 cursor-pointer group"
        data-era="past"
      >
        <div
          data-dot
          class="w-5 h-5 rounded-full transition-all duration-400 group-hover:scale-150"
          style="background: var(--accent-color); box-shadow: 0 0 10px rgba(155,109,255,0.4);"
        >
        </div>
        <div
          class="absolute -bottom-10 left-1/2 -translate-x-1/2 whitespace-nowrap"
        >
          <span
            class="text-xs font-cinzel text-white/70 tracking-widest uppercase group-hover:text-white transition-colors"
            >Pasado</span
          >
        </div>
      </div>

      <div
        class="timeline-point relative z-10 cursor-pointer group"
        data-era="present"
      >
        <div
          data-dot
          class="w-5 h-5 rounded-full transition-all duration-400 group-hover:scale-150"
          style="background: var(--secondary-color); box-shadow: 0 0 10px rgba(93,63,211,0.4);"
        >
        </div>
        <div
          class="absolute -bottom-10 left-1/2 -translate-x-1/2 whitespace-nowrap"
        >
          <span
            class="text-xs font-cinzel text-white/70 tracking-widest uppercase group-hover:text-white transition-colors"
            >Presente</span
          >
        </div>
      </div>

      <div
        class="timeline-point relative z-10 cursor-pointer group"
        data-era="future"
      >
        <div
          data-dot
          class="w-5 h-5 rounded-full transition-all duration-400 group-hover:scale-150"
          style="background: var(--tertiary-color); box-shadow: 0 0 10px rgba(0,200,255,0.4);"
        >
        </div>
        <div
          class="absolute -bottom-10 left-1/2 -translate-x-1/2 whitespace-nowrap"
        >
          <span
            class="text-xs font-cinzel text-white/70 tracking-widest uppercase group-hover:text-white transition-colors"
            >Futuro</span
          >
        </div>
      </div>
    </div>
  </div>

  <div
    id="era-content"
    class="story-content max-w-6xl mx-auto grid md:grid-cols-2 gap-24 lg:gap-28 items-center relative z-10"
    style="transition: opacity 0.35s ease, transform 0.35s ease;"
  >
    <div
      class="story-text text-lg leading-relaxed relative p-10 rounded-xl bg-[rgba(20,20,30,0.6)] shadow-xl border border-white/10 backdrop-blur fade-in slide-in-left"
    >
      <p class="mb-8 pl-2 text-white/90 text-pretty relative">
        <span
          class="first-letter float-left text-6xl md:text-7xl font-bold mr-2 mt-1 mb-[-0.1em] text-[var(--accent-color)] drop-shadow-[0_0_15px_rgba(138,43,226,0.7)] font-cinzel bg-gradient-to-br from-[#8a2be2] to-[#00bfff] bg-clip-text text-transparent relative z-10"
          >B</span
        >
        ajo el pueblo abandonado de Dirtmouth se extienden las ruinas de Hallownest,
        un otrora próspero reino de insectos que yace en ruinas tras una misteriosa
        plaga. Lo que una vez fue una civilización floreciente bajo el gobierno del
        Rey Pálido, ahora es un laberinto de túneles abandonados y ciudades en ruinas,
        habitado por criaturas corrompidas por una fuerza antigua conocida como la
        Infección.
      </p>
      <p class="pl-2 text-white/90 text-pretty relative">
        <span
          class="first-letter float-left text-6xl md:text-7xl font-bold mr-2 mt-1 mb-[-0.1em] text-[var(--accent-color)] drop-shadow-[0_0_15px_rgba(138,43,226,0.7)] font-cinzel bg-gradient-to-br from-[#8a2be2] to-[#00bfff] bg-clip-text text-transparent relative z-10"
          >C</span
        >
        omo el Caballero, un misterioso viajero sin nombre, te adentrarás en las
        profundidades de este reino olvidado. A medida que explores, descubrirás
        la trágica historia de Hallownest, sus gobernantes caídos y el destino que
        aguarda a quienes se atreven a desafiar la maldición que consume el reino.
        Con cada paso, te enfrentarás a los horrores de la Infección mientras buscas
        respuestas sobre tu propio origen y propósito en este mundo en ruinas.
      </p>
    </div>
    <div
      class="story-image flex justify-center items-center py-8 fade-in slide-in-right"
    >
      <img
        src="/img/shadow.png"
        alt="Reino de Hallownest"
        id="shadow-img"
        class="w-4/5 max-w-lg mx-auto drop-shadow-xl hover:drop-shadow-[0_0_30px_rgba(255,255,255,0.6)] cursor-pointer transition duration-700 ease-in-out glow-hover parallax"
        data-speed="0.3"
      />
    </div>
  </div>

  <div id="shadow-modal-wrapper">
    <ShadowModal />
  </div>
</section>
